<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#FF6B35">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Reportes Foto">
    
    <title>Reportes FotogrÃ¡ficos</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA2ElEQVRYhe2XMQ6DMAxFn5ArgBQxMnSH3oCla8/AFTgCd+hSiZGlK0tXxAEQQ0tCCKQkTfqltCqJ9f6zHduAv18JGAEr4Ai8gDvQBXrAGJgDM2AC9IF7nPuNbIEzcAFu8TkDS2AFbGPtCixibQ8c4rwPMkMKQFevc56vY9IAyZmiBqRnSgqQnikqQAFTVABnU1SAHqbUBZjClLoAjSkuQGWKC+BlSl0AK1PqAqxN6RigNaVjACtTOga4NP4RoFl+1p88vxp/BdAs3+R59NriHUARQHMj/nz+fjN+AMMYSo0a8/WjAAAAAElFTkSuQmCC">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de Inicio -->
    <div id="homeScreen" class="screen active">
        <div class="header">
            <h1>ğŸ“¸ Reportes FotogrÃ¡ficos</h1>
        </div>
        
        <div class="content">
            <div class="welcome-message">
                <h2>Bienvenido</h2>
                <p>Crea reportes profesionales con tus fotos</p>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="totalReports">0</div>
                    <div class="stat-label">Reportes</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalPhotos">0</div>
                    <div class="stat-label">Fotos</div>
                </div>
            </div>
            
            <button class="btn-primary" onclick="showNewReport()">
                <span class="btn-icon">â•</span>
                Crear Nuevo Reporte
            </button>
            
            <div class="reports-list" id="reportsList">
                <h3>Reportes Guardados</h3>
                <div id="reportsContainer"></div>
            </div>
        </div>
    </div>

    <!-- Pantalla de Nuevo Reporte -->
    <div id="newReportScreen" class="screen">
        <div class="header">
            <button class="btn-back" onclick="showHome()">â† AtrÃ¡s</button>
            <h1 id="reportTitle">Reporte 1</h1>
            <button class="btn-icon-header" onclick="showMenu()">â‹®</button>
        </div>
        
        <div class="content">
            <div class="toolbar">
                <button class="toolbar-btn" onclick="document.getElementById('cameraInput').click()">
                    <span class="icon">ğŸ“·</span>
                    <span>CÃ¡mara</span>
                </button>
                <button class="toolbar-btn" onclick="document.getElementById('galleryInput').click()">
                    <span class="icon">ğŸ–¼ï¸</span>
                    <span>GalerÃ­a</span>
                </button>
                <button class="toolbar-btn" onclick="addTextNote()">
                    <span class="icon">ğŸ“</span>
                    <span>Nota</span>
                </button>
                <button class="toolbar-btn" onclick="generatePDF()">
                    <span class="icon">ğŸ“„</span>
                    <span>PDF</span>
                </button>
            </div>
            
            <input type="file" id="cameraInput" accept="image/*" capture="environment" style="display: none;" onchange="handleImageUpload(event)">
            <input type="file" id="galleryInput" accept="image/*" multiple style="display: none;" onchange="handleImageUpload(event)">
            
            <div class="photos-grid" id="photosGrid">
                <div class="empty-state">
                    <div class="empty-icon">ğŸ“¸</div>
                    <p>No hay fotos aÃºn</p>
                    <p class="empty-subtitle">Agrega fotos desde la cÃ¡mara o galerÃ­a</p>
                </div>
            </div>
            
            <div class="photo-counter">
                Foto <span id="currentPhoto">0</span> de <span id="totalPhotosCount">0</span>
            </div>
        </div>
    </div>

    <!-- Modal de Foto -->
    <div id="photoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="btn-close" onclick="closePhotoModal()">âœ•</button>
            </div>
            <img id="modalImage" src="" alt="Foto">
            <textarea id="photoNote" class="photo-note-input" placeholder="Agregar nota a esta foto..."></textarea>
            <div class="modal-actions">
                <button class="btn-secondary" onclick="deleteCurrentPhoto()">ğŸ—‘ï¸ Eliminar</button>
                <button class="btn-primary" onclick="savePhotoNote()">ğŸ’¾ Guardar Nota</button>
            </div>
        </div>
    </div>

    <!-- Modal de MenÃº -->
    <div id="menuModal" class="modal">
        <div class="modal-content menu-modal">
            <button class="menu-item" onclick="editReportTitle()">
                <span class="menu-icon">âœï¸</span>
                <span>Cambiar Nombre del Reporte</span>
            </button>
            <button class="menu-item" onclick="clearAllPhotos()">
                <span class="menu-icon">ğŸ—‘ï¸</span>
                <span>Eliminar Todas las Fotos</span>
            </button>
            <button class="menu-item" onclick="shareReport()">
                <span class="menu-icon">ğŸ“¤</span>
                <span>Compartir</span>
            </button>
            <button class="menu-item cancel" onclick="closeMenu()">
                <span class="menu-icon">âœ•</span>
                <span>Cancelar</span>
            </button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="app.js"></script>
</body>
</html>

